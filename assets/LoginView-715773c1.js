import{_ as d,o as c,c as p,a as e,g as l,i as a,j as u,k as m}from"./index-57b2d658.js";const{VITE_URL:_}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"caiji_hexschool",BASE_URL:"/vueweek7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},h={data(){return{user:{username:"",password:""}}},methods:{logIn(){if(this.user.username==""||this.user.password==""){alert("請輸入帳號密碼");return}this.$http.post(`${_}admin/signin`,this.user).then(n=>{console.log(n);const{token:s,expired:i}=n.data;document.cookie=`caijiToken=${s}; expires=${new Date(i)}`,this.$router.push("/admin")}).catch(n=>{console.log(n),alert("登入失敗"),this.user.username="",this.user.password=""})}}},f={class:"container"},w={class:"row justify-content-center align-item-center"},g={class:"col-6"},v=e("h2",null,"後臺傳送門",-1),b={ref:"form"},I={class:"mb-3"},k=e("label",{for:"input-email",class:"form-label"},"帳號",-1),x={class:"mb-5"},y=e("label",{for:"input-password",class:"form-label"},"密碼",-1),V={class:"d-grid"};function E(n,s,i,T,r,t){return c(),p("div",f,[e("div",w,[e("div",g,[v,e("form",b,[e("div",I,[k,l(e("input",{type:"email",class:"form-control",id:"input-email","onUpdate:modelValue":s[0]||(s[0]=o=>r.user.username=o),onKeyup:s[1]||(s[1]=u((...o)=>t.logIn&&t.logIn(...o),["enter"]))},null,544),[[a,r.user.username]])]),e("div",x,[y,l(e("input",{type:"password",class:"form-control",id:"input-password","onUpdate:modelValue":s[2]||(s[2]=o=>r.user.password=o),onKeyup:s[3]||(s[3]=u((...o)=>t.logIn&&t.logIn(...o),["enter"]))},null,544),[[a,r.user.password]])]),e("div",V,[e("button",{type:"submit",class:"btn btn-primary",onClick:s[4]||(s[4]=m((...o)=>t.logIn&&t.logIn(...o),["prevent"]))},"送出")])],512)])])])}const R=d(h,[["render",E]]);export{R as default};
